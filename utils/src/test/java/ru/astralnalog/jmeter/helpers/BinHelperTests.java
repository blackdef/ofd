package ru.astralnalog.jmeter.helpers;

import org.hamcrest.MatcherAssert;
import org.testng.annotations.Test;
import ru.astralnalog.jmeter.utils.BinHexConverter;

import java.io.File;
import java.io.IOException;

import static org.hamcrest.Matchers.equalTo;

/**
 * Created by plotnikov on 26.04.2017.
 */
public class BinHelperTests {

  @Test
  public void testGetHexFromBinFile() throws IOException {
    String hexString = "2A08410B81A200013939393930373839323738202020202010011400000010010000A50101000099990789278FFFFF0000010000000000000000000000000100EC0011041000393939393037383932373820202020200D0414003031303230333030343130363035303120202020FA030C003430323930323337333820201004040001000000F4030400E8E281583504060021041657ED892004010000EA03010000E90301000055040100005604010000540401000026040100011804150092A5E1E2AEA2EBA920AFAEABECA7AEA2A0E2A5ABECF5030C00303033303032303030303032FD030B0088A2A0ADAEA2208C2E802EF1031D008CAEE1AAA2A02C2085ADA8E1A5A9E1AAA0EF20E3AB2E2C20A42E20322EF9030C003737303933363433343620201604060080E1E2E0A0AB";
    File binFile = new File("src/test/resources/requestbin/01.bin");

    String hexStringActual = BinHexConverter.getHexFromBinFile(binFile);

    MatcherAssert.assertThat(hexStringActual, equalTo(hexString));
  }
}
